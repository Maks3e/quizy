<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Quiz</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        .question { display: none; margin: 20px; }
        .result { margin-top: 10px; font-size: 18px; font-weight: bold; color: green; }
        .incorrect { color: red; }
        .final-result { margin-top: 20px; font-size: 20px; font-weight: bold; }
    </style>
</head>
<body>
    <h1>Interactive Quiz</h1>

    <div id="question1" class="question">
        <h3>1) Które z poniższych stwierdzeń NIE jest prawdziwe w przypadku osi krystalograficznych?</h3>
        <div id="answers1"></div>
        <button type="button" onclick="checkAnswer('q1', 'c', 'feedback1', 1)">Check Answer</button>
        <div id="feedback1" class="result"></div>
        <button type="button" id="next1" style="display:none;" onclick="showQuestion(2)">Next Question</button>
    </div>

    <div id="question2" class="question">
        <h3>2) Odmiany alotropowe żelaza: (Fe-α) oraz (Fe-δ) mają następujące struktury krystaliczne:</h3>
        <div id="answers2"></div>
        <button type="button" onclick="checkAnswer('q2', 'b', 'feedback2', 2)">Check Answer</button>
        <div id="feedback2" class="result"></div>
        <button type="button" id="next2" style="display:none;" onclick="showQuestion(3)">Next Question</button>
    </div>

    <div id="question3" class="question">
        <h3>3) Minimalna odległość pomiędzy atomami w strukturze RSC (A1) wynosi:</h3>
        <div id="answers3"></div>
        <button type="button" onclick="checkAnswer('q3', 'a', 'feedback3', 3)">Check Answer</button>
        <div id="feedback3" class="result"></div>
        <button type="button" id="next3" style="display:none;" onclick="showFinalResult()">Finish Quiz</button>
    </div>

    <div class="final-result" id="finalResult"></div>

    <script>
        let score = 0;
        const totalQuestions = 3;

        // Store answer choices for each question
        const questions = {
            q1: [
                { value: 'a', text: 'a) muszą być do siebie wzajemnie prostopadłe' },
                { value: 'b', text: 'b) są równoległe do krawędzi komórki elementarnej' },
                { value: 'c', text: 'c) wychodzą z jednego z wierzchołków komórki
' },
                { value: 'd', text: 'd) tworzą prawoskrętny układ współrzędnych
' }
            ],
            q2: [
                { value: 'a', text: 'a) 3' },
                { value: 'b', text: 'b) 4' },
                { value: 'c', text: 'c) 5' },
                { value: 'd', text: 'd) 6' }
            ],
            q3: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q4: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q5: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q6: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q7: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q8: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q9: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q10: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q11: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q12: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q13: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q14: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q15: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q16: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q17: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q18: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q19: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q20: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q21: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q22: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q23: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q24: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q25: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q26: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q27: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q28: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q29: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q30: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q31: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]
            q32: [
                { value: 'a', text: 'a) Blue' },
                { value: 'b', text: 'b) Green' },
                { value: 'c', text: 'c) Red' },
                { value: 'd', text: 'd) Yellow' }
            ]

        };

        // Shuffle answers for each question
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // Render the shuffled answer choices into the HTML
        function renderAnswers(questionId, answers) {
            const answersDiv = document.getElementById('answers' + questionId.slice(-1));
            answersDiv.innerHTML = ''; // Clear previous answers
            answers.forEach(answer => {
                const label = document.createElement('label');
                label.innerHTML = `<input type="radio" name="${questionId}" value="${answer.value}"> ${answer.text}`;
                answersDiv.appendChild(label);
                answersDiv.appendChild(document.createElement('br'));
            });
        }

        function showQuestion(questionNumber) {
            document.querySelectorAll('.question').forEach(q => q.style.display = 'none');
            document.getElementById('question' + questionNumber).style.display = 'block';
        }

        function checkAnswer(question, correctAnswer, feedbackId, questionNumber) {
            const selectedAnswer = document.querySelector(`input[name="${question}"]:checked`);
            const feedbackElement = document.getElementById(feedbackId);

            if (selectedAnswer) {
                if (selectedAnswer.value === correctAnswer) {
                    feedbackElement.textContent = "Correct!";
                    feedbackElement.className = "result";
                    score++;
                } else {
                    feedbackElement.textContent = `Incorrect! The correct answer is: ${correctAnswer.toUpperCase()}`;
                    feedbackElement.className = "result incorrect";
                }
                document.getElementById('next' + questionNumber).style.display = 'block';
            } else {
                feedbackElement.textContent = "Please select an answer.";
                feedbackElement.className = "result incorrect";
            }
        }

        function showFinalResult() {
            const resultText = score >= (totalQuestions / 2) ?
                               `You passed! Your score is ${score}/${totalQuestions}.` :
                               `You failed. Your score is ${score}/${totalQuestions}.`;

            document.getElementById("finalResult").textContent = resultText;
        }

        // Show the first question when the page loads
        window.onload = function() {
            // Shuffle and render answers for each question
            shuffle(questions.q1);
            shuffle(questions.q2);
            shuffle(questions.q3);
            renderAnswers('q1', questions.q1);
            renderAnswers('q2', questions.q2);
            renderAnswers('q3', questions.q3);

            showQuestion(1); // Show the first question
        };
    </script>
</body>
</html>
